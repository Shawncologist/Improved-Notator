<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- BEGIN CSS STYLES FILE -->
  <style>
    * {
      font-family: "Calibri", sans-serif;
    }

    body {
      background-color: #FFFFFF;
      width: 100%;
      height: 100vh;
    }

    input[type="text"],
    textarea,
    select {
      outline: none !important;
      box-shadow: none;
    }

    input[type="date"]:before {
      content: attr(placeholder) !important;
      color: #aaa;
      margin-right: 0.5em;
    }

    input[type="date"]:focus:before,
    input[type="date"]:valid:before {
      content: "";
    }

    input[type="month"]:before {
      content: attr(placeholder) !important;
      margin-right: 0.5em;
    }

    input[type="month"]:focus:before,
    input[type="month"]:valid:before {
      content: "";
    }

    /* .container div {
      padding: 0px;
      border: 1px solid purple;
    } */

    .container {
      margin-right: 5px;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
      grid-template-rows: 50px 50px 50px 35px 150px 50px 50px 50px 50px 50px 50px 50px 50px 50px 50px;
      gap: 3px 12px;
      grid-auto-flow: row;
      grid-template-areas:
        "name name caller caller msisdn msisdn output-note output-note output-note"
        "status status verify verify contact-id contact-id output-note output-note output-note"
        "reason reason reason reason reason reason output-note output-note output-note"
        "reason reason reason reason reason reason output-note output-note output-note"
        "action action action action action action output-note output-note output-note"
        "action action action action action action output-note output-note output-note"
        "tags tags tags specialized specialized specialized output-note output-note output-note"
        ". . . . . . output-note output-note output-note"
        ". . . . . . output-note output-note output-note"
        ". . . . . . button1 . button2"
        ". . . . . . button1 . button2"
        ". . . . . . . . ."
        ". . . . . . . . ."
        ". . . . . . . . ."
        ". . . . . . . . ."
        ". . . . . . . . .";
    }

    .name {
      grid-area: name;
    }

    .caller {
      grid-area: caller;
    }

    .msisdn {
      grid-area: msisdn;
    }

    .output-note {
      grid-area: output-note;
    }

    .status {
      grid-area: status;
    }

    .verify {
      grid-area: verify;
    }

    .contact-id {
      grid-area: contact-id;
    }

    .reason {
      grid-area: reason;
    }

    .action {
      grid-area: action;
    }

    .specialized {
      grid-area: specialized;
    }

    .topic-bonus {
      grid-area: topic-bonus;
    }

    .button1 {
      grid-area: button1;
      padding-left: 5px;
      margin-top: 10px;
    }

    .button2 {
      grid-area: button2;
      justify-self: end;
      margin-top: 10px;
    }

    .tags {
      grid-area: tags;
    }



    /* :root {
     --select-border: #777;
     --select-focus: blue;
     --select-arrow: var(--select-border);
    } */
    /* border: 1px solid var(--select-border); */
    .btn:focus {
      outline: none;
      box-shadow: none;
    }

    .buttons {
      background-color: #AAAAAA44;
      border: 1px solid #d5d9d9;
      border-radius: 0.3em;
      box-sizing: border-box;
      color: #0f1111;
      display: inline-block;
      font-size: 16px;
      line-height: 32px;
      padding: 0 10px 0 11px;
      position: relative;
      text-align: center;
      text-decoration: none;
      user-select: none;
      -webkit-user-select: none;
      vertical-align: middle;
      width: 100px;
    }

    .buttons:hover {
      background-color: #CCCCCC22;
    }

    .buttons:focus {
      border-color: #CCCCCC22;
      outline: 0;
    }

    .input-field {
      width: 100%;
      padding: 10px;
      margin: 4px;
      box-sizing: border-box;
      padding-left: 40px;
      border: 1px solid #4a463f55;
      border-radius: 0.3em;
      background-color: #CCCCCC22;
      font-size: 1.0rem;
    }

    .input-field::placeholder {
      color: #AAAAAA;
      opacity: 1;
    }

    .textarea {
      width: 100%;
      padding: 10px;
      margin: 4px;
      box-sizing: border-box;
      border: 1px solid #4a463f55;
      border-radius: 0.3em;
      background-color: #CCCCCC22;
      font-size: 1.0rem;
    }

    .textarea::placeholder {
      color: #AAAAAA;
      opacity: 1;
    }

    .icon-inside {
      position: relative;
    }

    .icon-inside .grey-icons {
      position: absolute;
      top: 7px;
      padding: 6px 10px;
      font-size: 1.5rem;
    }

    .input-name-icon {
      color: #61616E;
    }

    .input-name-icon-green {
      color: #6ab173;
    }

    .input-name-icon-red {
      color: #FD5D5D;
    }

    .output-note {
      width: 100%;
      /* padding: 10px;
      margin: 4px; */
      box-sizing: border-box;
      /* border: 1px solid #4a463f55;
      border-radius: 0.3em;
      background-color: #CCCCCC22; */
      font-size: 1.0rem;
    }

    .selectmenu {
      color: #aaaaaa;
    }

    .selectedmenu {
      color: #000000 !important;
    }
  </style>
  <!-- BEGIN HTML FILE -->
  <title>Notator+</title>
</head>

<body>
  <form id="notator-form">
    <div class="container">
      <!-- begin core fields -->
      <div class="name icon-inside">
        <input id="input-name" class="input-field" type="text" placeholder="First and Last Name">
        <span id="id-input-name-icon" class="material-icons grey-icons input-name-icon">account_circle</span>
      </div>
      <div class="caller icon-inside">
        <input id="input-caller" class="input-field" type="text" placeholder="Caller Phone #">
        <span id="id-input-caller-icon" class="material-icons grey-icons input-name-icon">local_phone</span>
      </div>
      <div class="msisdn icon-inside">
        <input id="input-msisdn" class="input-field" type="text" placeholder="Acct MSISDN">
        <span id="id-input-msisdn-icon" class="material-icons grey-icons input-name-icon">local_phone</span>
      </div>
      <!-- output box doesn't actually need to be located here -->
      <div class="output-note">
        <textarea id="output-textarea" class="textarea" rows="28" cols="10" placeholder="Your notes will appear here when you click Combine. They are automatically copied, so you're ready to paste them into Singleview."></textarea>
      </div>
      <!-- back to input fields again -->
      <div class="status icon-inside">
        <span id="id-input-status-icon" class="material-icons grey-icons input-name-icon">back_hand</span>
        <select id="input-status" class="selectmenu input-field selectmenu">
          <option selected value="">CX Status</option>
          <option value="Account Holder">Account Holder</option>
          <option value="Authorized User">Authorized User</option>
          <option value="Device User">Device User</option>
          <option value="Not Authorized">Not Authorized</option>
        </select>
      </div>
      <div class="verify icon-inside">
        <span id="id-input-verify-icon" class="material-icons grey-icons input-name-icon">lock</span>
        <select class="selectmenu input-field selectmenu" id="input-verify">
          <option selected value="">Verification</option>
          <option value="Yes, with PIN">Yes, with PIN</option>
          <option value="Yes, with MFA SMS">Yes, with MFA SMS</option>
          <option value="Yes, with MFA Email">Yes, with MFA Email</option>
          <option value="No, wrong PIN">No, wrong PIN</option>
          <option value="No, unverified">No, unverified</option>
        </select>
      </div>
      <div class="contact-id icon-inside">
        <input id="input-conversation-id" class="input-field" type="text" placeholder="Conversation ID">
        <span id="id-input-conversation-id-icon" class="material-icons grey-icons input-name-icon">tag</span>
      </div>
      <div class="reason">
        <textarea id="input-reason" class="textarea" rows="3" cols="10" placeholder="Primary reason for the customer's call"></textarea>
      </div>
      <div class="action">
        <textarea id="input-action" class="textarea" rows="9" cols="10" placeholder="Actions you took and information you gave"></textarea>
      </div>
      <div class="tags icon-inside">
        <span id="id-input-tag-icon" class="material-icons grey-icons input-name-icon">check_box</span>
        <select class="selectmenu input-field selectmenu" id="input-tags">
          <option selected value="">Pre-Defined Comments</option>
          <option value="a">a</option>
          <option value="b">b</option>
          <option value="c">c</option>
          <option value="d">d</option>
          <option value="e">e</option>
        </select>
      </div>
      <div class="specialized icon-inside">
        <span id="id-input-specialized-icon" class="material-icons grey-icons input-name-icon">star</span>
        <select class="selectmenu input-field selectmenu" id="input-specialized">
          <option selected value="">Specialized Topics</option>
          <option value="a">a</option>
          <option value="b">b</option>
          <option value="c">c</option>
          <option value="d">d</option>
          <option value="e">e</option>
        </select>
      </div>
      <!-- end core fields -->
      <!-- <div class="specialized icon-inside">specialized</div> -->
      <!-- <div class="topic-bonus">topic-bonus</div> -->

      <div class="button1"><button id="copy-button" class="buttons" type="button" value="copy" onClick="combineButton()">Combine</button></div>

      <div class="button2"><button class="buttons" type="button" value="reset" onClick="resetForm()">Reset</button></div>

    </div>
  </form>
  <!-- BEGIN JS SCRIPT FILE -->
  <script type="text/javascript">
    // Menu selection change from grey to black
    let inputStatusText = document.querySelector('#input-status');
    let inputVerifyText = document.querySelector('#input-verify');
    inputStatusText.addEventListener('change', function() {
      inputStatusText.classList.add('selectedmenu');
      if (inputStatusText.value === "") {
        inputStatusText.classList.remove('selectedmenu');
      }
    });
    inputVerifyText.addEventListener('change', function() {
      inputVerifyText.classList.add('selectedmenu');
      if (inputVerifyText.value === "") {
        inputVerifyText.classList.remove('selectedmenu');
      }
    });

    function resetSelectedMenu() {
      inputVerifyText.classList.remove('selectedmenu');
      inputStatusText.classList.remove('selectedmenu');
    }

    // Input/output scheme
    let allForm = document.getElementById("notator-form");
    let output = document.getElementById("output-textarea").value;
    let inputName = document.querySelector('#input-name');
    let inputCaller = document.querySelector('#input-caller');
    let inputMsisdn = document.querySelector('#input-msisdn');
    let inputStatus = document.querySelector('#input-status');
    let inputVerify = document.querySelector('#input-verify');
    let inputConversationId = document.querySelector('#input-conversation-id');
    let inputReason = document.querySelector('#input-reason');
    let inputAction = document.querySelector('#input-action');

    allForm.addEventListener("change", formsUpdate);

    function formsUpdate() {
      if (inputName.value === "") {
        document.getElementById("id-input-name-icon").classList.add("input-name-icon");
        document.getElementById("id-input-name-icon").classList.remove("input-name-icon-green");
      } else {
        document.getElementById("id-input-name-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-name-icon").classList.add("input-name-icon-green");
      }
      if (inputCaller.value === "") {
        document.getElementById("id-input-caller-icon").classList.add("input-name-icon");
        document.getElementById("id-input-caller-icon").classList.remove("input-name-icon-green");
      } else {
        document.getElementById("id-input-caller-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-caller-icon").classList.add("input-name-icon-green");
      }
      if (inputMsisdn.value === "") {
        document.getElementById("id-input-msisdn-icon").classList.add("input-name-icon");
        document.getElementById("id-input-msisdn-icon").classList.remove("input-name-icon-green");
      } else {
        document.getElementById("id-input-msisdn-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-msisdn-icon").classList.add("input-name-icon-green");
      }
      if (inputStatus.value === "") {
        inputVerify.disabled = false;
        document.getElementById("id-input-status-icon").classList.add("input-name-icon");
        document.getElementById("id-input-status-icon").classList.remove("input-name-icon-green");
        document.getElementById("id-input-status-icon").classList.remove("input-name-icon-red");
      } else if (inputStatus.value === "Not Authorized") {
        inputVerify.value = "No, unverified";
        inputVerify.disabled = true;
        document.getElementById("id-input-status-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-status-icon").classList.add("input-name-icon-red");
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-verify-icon").classList.add("input-name-icon-red");
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon-green");
      } else {
        inputVerify.disabled = false;
        document.getElementById("id-input-status-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-status-icon").classList.add("input-name-icon-green");
        document.getElementById("id-input-status-icon").classList.remove("input-name-icon-red");
      }
      if (inputVerify.value === "") {
        document.getElementById("id-input-verify-icon").classList.add("input-name-icon");
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon-green");
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon-red");
      } else if (inputVerify.value === "No, unverified" || inputVerify.value === "No, wrong PIN") {
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-verify-icon").classList.add("input-name-icon-red");
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon-green");
      } else {
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-verify-icon").classList.add("input-name-icon-green");
        document.getElementById("id-input-verify-icon").classList.remove("input-name-icon-red");
      }
      if (inputConversationId.value === "") {
        document.getElementById("id-input-conversation-id-icon").classList.add("input-name-icon");
        document.getElementById("id-input-conversation-id-icon").classList.remove("input-name-icon-green");
      } else {
        document.getElementById("id-input-conversation-id-icon").classList.remove("input-name-icon");
        document.getElementById("id-input-conversation-id-icon").classList.add("input-name-icon-green");
      }
    }


    // ********************** GIANT OUTPUT FORMATTING *****************
    function formsCombine() {
      var cxName = inputName.value;
      cxName = cxName.trim();
      cxName = cxName.toLowerCase().replace(/(^\w{1})|(\s{1}\w{1})/g, match => match.toUpperCase());


      if (inputReason.value === "") {
        output = "";
      } else {
        output = 'Reason: ' + inputReason.value + "\n\n";
      }
      if (cxName === "") {
        output += "";
      } else {
        output += 'Name: ' + cxName + "\n";
      }
      if (inputMsisdn.value === "") {
        output += "";
      } else {
        output += 'Acct MSISDN: ' + inputMsisdn.value + "\n";
      }
      if (inputStatus.value === "") {
        output += "";
        inputVerify.disabled = false;
      } else if (inputStatus.value === "Not Authorized") {
        output += 'CX Status: ' + inputStatus.value + "\n";
        inputVerify.value = "No, unverified";
        inputVerify.disabled = true;
      } else {
        output += 'CX Status: ' + inputStatus.value + "\n";
        inputVerify.disabled = false;
      }
      if (inputVerify.value === "") {
        output += "";
      } else if (inputVerify.value === "No, unverified" || inputVerify.value === "No, wrong PIN") {
        output += 'Verification: ' + inputVerify.value + "\n";
      } else {
        output += 'Verification: ' + inputVerify.value + "\n";
      }
      if (inputConversationId.value === "") {
        output += "";
      } else {
        output += 'Conversation ID: ' + inputConversationId.value + "\n\n";
      }
      if (inputAction.value === "") {
        output += "";
      } else {
        output += 'Action Taken: ' + inputAction.value + "\n";
      }

      document.getElementById("output-textarea").value = output
      return text = output;
    }


function combineButton() {
  formsCombine()
  copyNotes();
}

    // copy the note
    function copyNotes() {
      var copyText = document.getElementById("output-textarea");
      var copyBtn = document.getElementById("copy-button");
      copyText.select();
      // navigator.clipboard.writeText(copyText.value);
      document.execCommand("copy");
      copyBtn.innerHTML = "Copied!"
      setTimeout(function() {
        copyBtn.innerHTML = "Combine"
      }, 5000)
    }

    // reset button
    function resetForm() {
      document.getElementById("notator-form").reset();

      const allIcons = document.querySelectorAll(".grey-icons");
      allIcons.forEach(icon => {
        icon.classList.remove("input-name-icon-green");
        icon.classList.remove("input-name-icon-red");
        icon.classList.add("input-name-icon");
      });
      resetSelectedMenu()

    }
  </script>
</body>

</html>
